# Low Hanging Fruits

## Descoberta de serviços

Inicialmente, iremos mapear as APIs presentes na aplicação, para isso devemos navegar por toda a aplicação a fim de mapear endpoints e chamadas da API.

Em seguida com as rotas mapeadas podemos entender qual tipo de API se trata, como REST, GraphQL,  SOAP e com isto podemos avançar em nosso pentest.

{% hint style="success" %}
Para mais informações sobre o tipo de API utilizado pode ser consultado os links abaixo:

[GraphQL](../../api/graphql.md)

[REST](../../api/rest.md)
{% endhint %}

Com o mapeamento podemos iniciar o processo de fuzzing na API com o intuito de encontrar endpoints referentes a **documentação, sensíveis, sem autenticação.**

Para esta etapa podem ser utilizadas ferramentas como:\
[**ffuf**](https://github.com/ffuf/ffuf)**,** [**Dirb**](https://salsa.debian.org/pkg-security-team/dirb)**,** [**gobuster**](https://github.com/OJ/gobuster)**,** [**wfuzz**](https://github.com/xmendez/wfuzz)

Algumas wordlists conhecidas da **SecList** para pentest em API:

[api-endpoints](https://github.com/danielmiessler/SecLists/blob/master/Discovery/Web-Content/api/api-endpoints.txt), [actions](https://github.com/danielmiessler/SecLists/blob/master/Discovery/Web-Content/api/actions.txt), [objects](https://github.com/danielmiessler/SecLists/blob/master/Discovery/Web-Content/api/objects.txt)

***

### Uso de mesma chave de API em ambientes de produção e homologação

O uso da mesma chave de API em ambientes de produção e homologação é uma prática de segurança inadequada e pode levar a sérios riscos. Esse erro pode expor dados sensíveis, permitir acesso não autorizado e comprometer a integridade dos sistemas.

Se a chave de API usada em homologação for comprometida, o atacante pode obter acesso ao ambiente de produção, onde dados sensíveis estão armazenados.

***

## Automação

Algumas ferramentas podem ser utilizadas para apoio no processo do pentest, a fim de auxiliar o pentester a cobrir todo o teste na API.



### Nuclei

[Nuclei](https://github.com/projectdiscovery/nuclei) é uma ferramenta desenvolvida pela ProjectDiscovery que auxilia em scans na API e em aplicações web utilizando templates.

```
# Para uma lista de alvos
nuclei -l lista.txt

# Para um único alvo
nuclei -u alvo.com.br
```



### Burp Suite

O próprio [Burp Suite](https://portswigger.net/burp/communitydownload) pode ser utilizado para fazer scans automatizados na API, basta ir na aba "Targets" e clicar com o botão direito e ir até "Scan" e selecionar as configurações do scan.



### Swagger Jacker

[Swagger Jacker](https://github.com/BishopFox/sj) ferramenta é muito útil quando identificado um endpoint de Swagger, pois através dela podemos automatizar ataques de brute force, automação e visualizar rapidamente quais endpoints se encontram acessíveis sem autenticação.
